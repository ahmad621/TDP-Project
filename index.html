<html>
<script>
// JavaScript in seperate pages
// Navigation to new page for edit and Add
var records = 
[  
    {"ninumber":"ZS502747A", "fullname": "Chris P Bacon", "phone": "07659-831024", "address": "123 Elliot Hill", "department":"IT"},  
    {"ninumber":"XS130502B", "fullname": "Miles A Head", "phone": "07666-616680", "address": "321 Haha Road", "department":"Sales"},  
    {"ninumber":"MY034526D", "fullname": "Rick O'Shea", "phone": "07440-003065", "address": "64 Zoo Lane", "department":"HR"},  
    {"ninumber":"AK311470", "fullname": "Robyn Banks", "phone": "07342-472921", "address": "324 Langton Ridgeway", "department":"HR"},  
    {"ninumber":"LY682275B", "fullname": "Lorne Mowers", "phone": "07822-821023", "address": "234 Julian Market", "department":"IT"},  
    {"ninumber":"BK227215B", "fullname": "Frank N Stein", "phone": "07661-522545", "address": "12 Springfield Grange", "department":"Sales"},  
    {"ninumber":"XB363374C", "fullname": "Hedda Hare", "phone": "07563-758264", "address": "54 Blackbird Crescent", "department":"IT"},
    {"ninumber":"MY501327A", "fullname": "Upton O Goode", "phone": "07401-414740", "address": "2 St Margarets Drive", "department":"IT"},
    {"ninumber":"TT405395B", "fullname": "Marius Quick", "phone": "07870-297789", "address": "98 Earl Path", "department":"IT"},
    {"ninumber":"AZ764036A", "fullname": "Max E Mumm", "phone": "07872-642897", "address": "233 Lady Smith Avenue", "department":"IT"},
    {"ninumber":"ES73841C", "fullname": "Yul B Allwright", "phone": "07750-872412", "address": "45 Fountains Broadway", "department":"Sales"},
    {"ninumber":"WX465470A", "fullname": "Lori Driver", "phone": "07773-782275", "address": "65 Burlington Lodge", "department":"HR"},
    {"ninumber":"AK625470D", "fullname": "Shirley U Care", "phone": "07569-060117", "address": "97 Holderness Drive", "department":"HR"},
    {"ninumber":"SW098272B", "fullname": "Felix Cited", "phone": "07394-529507", "address": "32 Banningham Court", "department":"Sales"},
    {"ninumber":"OB043941D", "fullname": "Sandy Beech", "phone": "07958-301691", "address": "3 Third Mount", "department":"Sales"}
];

var newRecourds;
function addrecord(){
               newRecourds.push(
                              {
                              "fullname":document.getElementById("f").value,
                              "ninumber":document.getElementById("n").value,
                              "address":document.getElementById("a").value,
                              "phone":document.getElementById("p").value,
                              "department":document.getElementById("d").value,
                              }
               )

updateTable(newRecourds);
}

function updateTable(records){

// add the delete button
newRecourds = records;
var table = document.getElementById("employeetable");
var tableBody = table.children[1];

// remove all the data from the table
if(tableBody.children.length > 0){
               var new_tbod = document.createElement('tbody');
tableBody.parentNode.replaceChild(new_tbod, tableBody);
}

//Build table body
for(var i =0;i<newRecourds.length;i++){
               var row = document.createElement("tr");
               
               tableBody = table.children[1]
               tableBody.appendChild(row);
               
               // Build table data
               for(var j=0; j<5;j++){
                              var data = document.createElement("td");
                              data.innerHTML = (Object.values(newRecourds[i])[j]);
                              row.appendChild(data);
               }
               //add delete button
               var btn=document.createElement("input")
               btn.type="button"
               btn.value="Delete";
               btn.id= newRecourds[i].ninumber;
               btn.onclick=function(){
               deleteMethod(this.id);
               }
               row.appendChild(btn);
               
               //edit button ToDo:
}
               function deleteMethod(ninumber){ //ToDo:
               <!-- alert("" + ninumber); -->
               <!-- console.log(newRecourds); -->
               // find and remove employee in newRecourds by ni number
               // call updateTable(newRecourds);
               }
               
               function editMethod(){
               //ToDo:
               }
}

</script>
<div>
               <table id="employeetable">
                              <thead> 
                                             <tr>
                                                            <th>Full name </th>
                                                            <th>Ni number</th>
                                                            <th>Address</th>
                                                            <th>Phone No</th>
                                                            <th>Department</th>
                                                            <th>Actions</th>                                                          
                                             </tr>
                              </thead>
                              <tbody> 
                                             <!-- <tr>                -->
                                                            <!-- <td> AChris P Bacon</td> -->
                                                            <!-- <td> ZS502747</td> -->
                                                            <!-- <td> Bacon123 Elliot Hill</td> -->
                                                            <!-- <td> 07659-831024</td> -->
                                                            <!-- <td> IT</td> -->
                                                            
                                             <!-- </tr> -->
                              </tbody>
               </table>
</div>
<br>

<body onload="updateTable(records)">
<div>

<input id="f">
<input id="n">
<input id="a">
<input id="p">
<input id="d">
<input type="button" value="Add records" onclick="addrecord()">
<div/>
</body>
</html>

